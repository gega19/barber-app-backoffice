{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/macbook/Desktop/projects/barber-application/barber-app-backoffice/lib/workplaces.ts"],"sourcesContent":["import api from './api';\n\nexport interface Workplace {\n  id: string;\n  name: string;\n  address?: string | null;\n  city?: string | null;\n  description?: string | null;\n  image?: string | null;\n  banner?: string | null;\n  rating: number;\n  reviews: number;\n  barbersCount?: number;\n  reviewsCount?: number;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport interface CreateWorkplaceData {\n  name: string;\n  address?: string;\n  city?: string;\n  description?: string;\n  image?: string;\n  banner?: string;\n}\n\nexport interface UpdateWorkplaceData {\n  name?: string;\n  address?: string;\n  city?: string;\n  description?: string;\n  image?: string;\n  banner?: string;\n}\n\nexport interface WorkplacesResponse {\n  success: boolean;\n  data: Workplace[];\n  pagination: {\n    page: number;\n    limit: number;\n    total: number;\n    totalPages: number;\n  };\n}\n\nexport const workplacesService = {\n  async getWorkplaces(page: number = 1, limit: number = 10, search?: string): Promise<WorkplacesResponse> {\n    const params = new URLSearchParams({\n      page: page.toString(),\n      limit: limit.toString(),\n    });\n    \n    if (search) {\n      params.append('search', search);\n    }\n\n    const response = await api.get<WorkplacesResponse>(`/workplaces?${params.toString()}`);\n    return response.data;\n  },\n\n  async getWorkplaceById(id: string): Promise<Workplace> {\n    const response = await api.get<{ success: boolean; data: Workplace }>(`/workplaces/${id}`);\n    return response.data.data;\n  },\n\n  async createWorkplace(data: CreateWorkplaceData): Promise<Workplace> {\n    const response = await api.post<{ success: boolean; data: Workplace }>('/workplaces', data);\n    return response.data.data;\n  },\n\n  async updateWorkplace(id: string, data: UpdateWorkplaceData): Promise<Workplace> {\n    const response = await api.put<{ success: boolean; data: Workplace }>(`/workplaces/${id}`, data);\n    return response.data.data;\n  },\n\n  async deleteWorkplace(id: string): Promise<void> {\n    await api.delete(`/workplaces/${id}`);\n  },\n};\n\nexport interface WorkplaceMedia {\n  id: string;\n  workplaceId: string;\n  type: string;\n  url: string;\n  thumbnail?: string | null;\n  caption?: string | null;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport interface CreateWorkplaceMediaData {\n  type: string;\n  url: string;\n  thumbnail?: string;\n  caption?: string;\n}\n\nexport const workplaceMediaService = {\n  async getWorkplaceMedia(workplaceId: string): Promise<WorkplaceMedia[]> {\n    const response = await api.get<{ success: boolean; data: WorkplaceMedia[] }>(`/workplace-media/workplace/${workplaceId}`);\n    return response.data.data;\n  },\n\n  async createMedia(workplaceId: string, data: CreateWorkplaceMediaData): Promise<WorkplaceMedia> {\n    const response = await api.post<{ success: boolean; data: WorkplaceMedia }>(`/workplace-media/workplace/${workplaceId}`, data);\n    return response.data.data;\n  },\n\n  async createMultipleMedia(workplaceId: string, mediaItems: CreateWorkplaceMediaData[]): Promise<WorkplaceMedia[]> {\n    const response = await api.post<{ success: boolean; data: WorkplaceMedia[] }>(`/workplace-media/workplace/${workplaceId}/multiple`, {\n      mediaItems,\n    });\n    return response.data.data;\n  },\n\n  async updateMedia(id: string, data: { caption?: string; thumbnail?: string }): Promise<WorkplaceMedia> {\n    const response = await api.put<{ success: boolean; data: WorkplaceMedia }>(`/workplace-media/${id}`, data);\n    return response.data.data;\n  },\n\n  async deleteMedia(id: string): Promise<void> {\n    await api.delete(`/workplace-media/${id}`);\n  },\n};\n\n"],"names":[],"mappings":";;;;;;AAAA;;AA+CO,MAAM,oBAAoB;IAC/B,MAAM,eAAc,OAAe,CAAC,EAAE,QAAgB,EAAE,EAAE,MAAe;QACvE,MAAM,SAAS,IAAI,gBAAgB;YACjC,MAAM,KAAK,QAAQ;YACnB,OAAO,MAAM,QAAQ;QACvB;QAEA,IAAI,QAAQ;YACV,OAAO,MAAM,CAAC,UAAU;QAC1B;QAEA,MAAM,WAAW,MAAM,oMAAG,CAAC,GAAG,CAAqB,CAAC,YAAY,EAAE,OAAO,QAAQ,IAAI;QACrF,OAAO,SAAS,IAAI;IACtB;IAEA,MAAM,kBAAiB,EAAU;QAC/B,MAAM,WAAW,MAAM,oMAAG,CAAC,GAAG,CAAwC,CAAC,YAAY,EAAE,IAAI;QACzF,OAAO,SAAS,IAAI,CAAC,IAAI;IAC3B;IAEA,MAAM,iBAAgB,IAAyB;QAC7C,MAAM,WAAW,MAAM,oMAAG,CAAC,IAAI,CAAwC,eAAe;QACtF,OAAO,SAAS,IAAI,CAAC,IAAI;IAC3B;IAEA,MAAM,iBAAgB,EAAU,EAAE,IAAyB;QACzD,MAAM,WAAW,MAAM,oMAAG,CAAC,GAAG,CAAwC,CAAC,YAAY,EAAE,IAAI,EAAE;QAC3F,OAAO,SAAS,IAAI,CAAC,IAAI;IAC3B;IAEA,MAAM,iBAAgB,EAAU;QAC9B,MAAM,oMAAG,CAAC,MAAM,CAAC,CAAC,YAAY,EAAE,IAAI;IACtC;AACF;AAoBO,MAAM,wBAAwB;IACnC,MAAM,mBAAkB,WAAmB;QACzC,MAAM,WAAW,MAAM,oMAAG,CAAC,GAAG,CAA+C,CAAC,2BAA2B,EAAE,aAAa;QACxH,OAAO,SAAS,IAAI,CAAC,IAAI;IAC3B;IAEA,MAAM,aAAY,WAAmB,EAAE,IAA8B;QACnE,MAAM,WAAW,MAAM,oMAAG,CAAC,IAAI,CAA6C,CAAC,2BAA2B,EAAE,aAAa,EAAE;QACzH,OAAO,SAAS,IAAI,CAAC,IAAI;IAC3B;IAEA,MAAM,qBAAoB,WAAmB,EAAE,UAAsC;QACnF,MAAM,WAAW,MAAM,oMAAG,CAAC,IAAI,CAA+C,CAAC,2BAA2B,EAAE,YAAY,SAAS,CAAC,EAAE;YAClI;QACF;QACA,OAAO,SAAS,IAAI,CAAC,IAAI;IAC3B;IAEA,MAAM,aAAY,EAAU,EAAE,IAA8C;QAC1E,MAAM,WAAW,MAAM,oMAAG,CAAC,GAAG,CAA6C,CAAC,iBAAiB,EAAE,IAAI,EAAE;QACrG,OAAO,SAAS,IAAI,CAAC,IAAI;IAC3B;IAEA,MAAM,aAAY,EAAU;QAC1B,MAAM,oMAAG,CAAC,MAAM,CAAC,CAAC,iBAAiB,EAAE,IAAI;IAC3C;AACF","debugId":null}},
    {"offset": {"line": 67, "column": 0}, "map": {"version":3,"sources":["file:///Users/macbook/Desktop/projects/barber-application/barber-app-backoffice/lib/upload.ts"],"sourcesContent":["import axios from 'axios';\nimport Cookies from 'js-cookie';\n\nconst baseURL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3000/api';\n\nexport interface UploadResponse {\n  success: boolean;\n  data: {\n    url: string;\n    filename: string;\n    originalName: string;\n    mimetype: string;\n    size: number;\n  };\n}\n\nexport const uploadService = {\n  async uploadFile(file: File): Promise<string> {\n    const formData = new FormData();\n    formData.append('file', file);\n\n    const token = Cookies.get('token');\n    const headers: Record<string, string> = {};\n    if (token) {\n      headers.Authorization = `Bearer ${token}`;\n    }\n\n    const response = await axios.post<UploadResponse>(`${baseURL}/upload`, formData, {\n      headers,\n    });\n\n    if (response.data.success && response.data.data) {\n      // Return relative URL (same as Flutter app does)\n      // The app will construct the full URL using its baseUrl\n      return response.data.data.url;\n    }\n\n    throw new Error('Upload failed');\n  },\n};\n\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,MAAM,UAAU,QAAQ,GAAG,CAAC,mBAAmB,IAAI;AAa5C,MAAM,gBAAgB;IAC3B,MAAM,YAAW,IAAU;QACzB,MAAM,WAAW,IAAI;QACrB,SAAS,MAAM,CAAC,QAAQ;QAExB,MAAM,QAAQ,+OAAO,CAAC,GAAG,CAAC;QAC1B,MAAM,UAAkC,CAAC;QACzC,IAAI,OAAO;YACT,QAAQ,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;QAC3C;QAEA,MAAM,WAAW,MAAM,+NAAK,CAAC,IAAI,CAAiB,GAAG,QAAQ,OAAO,CAAC,EAAE,UAAU;YAC/E;QACF;QAEA,IAAI,SAAS,IAAI,CAAC,OAAO,IAAI,SAAS,IAAI,CAAC,IAAI,EAAE;YAC/C,iDAAiD;YACjD,wDAAwD;YACxD,OAAO,SAAS,IAAI,CAAC,IAAI,CAAC,GAAG;QAC/B;QAEA,MAAM,IAAI,MAAM;IAClB;AACF","debugId":null}},
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///Users/macbook/Desktop/projects/barber-application/barber-app-backoffice/app/dashboard/barbershops/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback, useRef } from 'react';\nimport { Scissors, Plus, Search, Edit, Trash2, Eye, Filter, X, Copy, Check, ChevronDown, ChevronUp, Star, MapPin, Users, Upload, Image as ImageIcon, Video, XCircle } from 'lucide-react';\nimport { workplacesService, Workplace, CreateWorkplaceData, UpdateWorkplaceData, workplaceMediaService, WorkplaceMedia } from '@/lib/workplaces';\nimport { uploadService } from '@/lib/upload';\nimport { useForm } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { z } from 'zod';\n\n// Helper para construir URLs de imágenes (sin /api)\nconst getImageUrl = (url: string): string => {\n  if (url.startsWith('http')) {\n    return url;\n  }\n  // Remover /api de la URL base si existe\n  const baseUrl = (process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3000/api').replace('/api', '');\n  return `${baseUrl}${url}`;\n};\n\nconst workplaceSchema = z.object({\n  name: z.string().min(2, 'El nombre debe tener al menos 2 caracteres'),\n  address: z.string().optional(),\n  city: z.string().optional(),\n  description: z.string().optional(),\n  image: z.string().optional(),\n  banner: z.string().optional(),\n});\n\ntype WorkplaceFormData = z.infer<typeof workplaceSchema>;\n\nexport default function BarbershopsPage() {\n  const [workplaces, setWorkplaces] = useState<Workplace[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [isEditMode, setIsEditMode] = useState(false);\n  const [selectedWorkplace, setSelectedWorkplace] = useState<Workplace | null>(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [deleteConfirm, setDeleteConfirm] = useState<string | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [showFilters, setShowFilters] = useState(false);\n  const [copiedId, setCopiedId] = useState<string | null>(null);\n  const [uploadingImage, setUploadingImage] = useState(false);\n  const [uploadingBanner, setUploadingBanner] = useState(false);\n  const [workplaceMedia, setWorkplaceMedia] = useState<WorkplaceMedia[]>([]);\n  const [uploadingMedia, setUploadingMedia] = useState(false);\n  const [showMediaGallery, setShowMediaGallery] = useState(false);\n  const [isMediaModalOpen, setIsMediaModalOpen] = useState(false);\n  const [mediaWorkplace, setMediaWorkplace] = useState<Workplace | null>(null);\n  const [selectedFiles, setSelectedFiles] = useState<File[]>([]);\n  const imageInputRef = useRef<HTMLInputElement>(null);\n  const bannerInputRef = useRef<HTMLInputElement>(null);\n  const mediaInputRef = useRef<HTMLInputElement>(null);\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    reset,\n    setValue,\n    watch,\n  } = useForm<WorkplaceFormData>({\n    resolver: zodResolver(workplaceSchema),\n  });\n\n  const watchedImage = watch('image');\n  const watchedBanner = watch('banner');\n\n  const loadWorkplaceMedia = useCallback(async (workplaceId: string) => {\n    try {\n      const media = await workplaceMediaService.getWorkplaceMedia(workplaceId);\n      setWorkplaceMedia(media);\n    } catch (err) {\n      console.error('Error loading workplace media:', err);\n    }\n  }, []);\n\n  const handleOpenMediaModal = async (workplace: Workplace) => {\n    setMediaWorkplace(workplace);\n    setIsMediaModalOpen(true);\n    await loadWorkplaceMedia(workplace.id);\n  };\n\n  const handleCloseMediaModal = () => {\n    setIsMediaModalOpen(false);\n    setMediaWorkplace(null);\n    setWorkplaceMedia([]);\n    setSelectedFiles([]);\n  };\n\n  const loadWorkplaces = useCallback(async () => {\n    setIsLoading(true);\n    try {\n      const response = await workplacesService.getWorkplaces(currentPage, 10, searchTerm || undefined);\n      setWorkplaces(response.data);\n      setTotalPages(response.pagination.totalPages);\n    } catch (err: any) {\n      setError(err.response?.data?.message || 'Error al cargar barberías');\n    } finally {\n      setIsLoading(false);\n    }\n  }, [currentPage, searchTerm]);\n\n  useEffect(() => {\n    loadWorkplaces();\n  }, [loadWorkplaces]);\n\n  const copyToClipboard = async (text: string, id: string) => {\n    try {\n      await navigator.clipboard.writeText(text);\n      setCopiedId(id);\n      setTimeout(() => setCopiedId(null), 2000);\n    } catch (err) {\n      console.error('Failed to copy:', err);\n    }\n  };\n\n  const clearFilters = () => {\n    setSearchTerm('');\n    setCurrentPage(1);\n  };\n\n  const hasActiveFilters = searchTerm !== '';\n\n  const handleCreate = () => {\n    setIsEditMode(false);\n    setSelectedWorkplace(null);\n    reset({\n      name: '',\n      address: '',\n      city: '',\n      description: '',\n      image: '',\n      banner: '',\n    });\n    setIsModalOpen(true);\n  };\n\n  const handleEdit = (workplace: Workplace) => {\n    setIsEditMode(true);\n    setSelectedWorkplace(workplace);\n    setValue('name', workplace.name);\n    setValue('address', workplace.address || '');\n    setValue('city', workplace.city || '');\n    setValue('description', workplace.description || '');\n    setValue('image', workplace.image || '');\n    setValue('banner', workplace.banner || '');\n    setIsModalOpen(true);\n  };\n\n  const handleView = async (workplace: Workplace) => {\n    try {\n      const fullWorkplace = await workplacesService.getWorkplaceById(workplace.id);\n      setSelectedWorkplace(fullWorkplace);\n      await loadWorkplaceMedia(workplace.id);\n      setIsModalOpen(true);\n    } catch (err: any) {\n      setError(err.response?.data?.message || 'Error al cargar barbería');\n    }\n  };\n\n  const handleImageUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n\n    setUploadingImage(true);\n    try {\n      const url = await uploadService.uploadFile(file);\n      setValue('image', url);\n      setError(null);\n    } catch (err: any) {\n      setError(err.message || 'Error al subir imagen');\n    } finally {\n      setUploadingImage(false);\n      if (imageInputRef.current) {\n        imageInputRef.current.value = '';\n      }\n    }\n  };\n\n  const handleBannerUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n\n    setUploadingBanner(true);\n    try {\n      const url = await uploadService.uploadFile(file);\n      setValue('banner', url);\n      setError(null);\n    } catch (err: any) {\n      setError(err.message || 'Error al subir banner');\n    } finally {\n      setUploadingBanner(false);\n      if (bannerInputRef.current) {\n        bannerInputRef.current.value = '';\n      }\n    }\n  };\n\n  const handleFileSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const files = e.target.files;\n    if (files && files.length > 0) {\n      setSelectedFiles(Array.from(files));\n    }\n    // Reset input value to allow selecting the same files again\n    if (mediaInputRef.current) {\n      mediaInputRef.current.value = '';\n    }\n  };\n\n  const handleMediaUpload = async () => {\n    if (selectedFiles.length === 0) return;\n    \n    const workplace = mediaWorkplace || selectedWorkplace;\n    if (!workplace) return;\n\n    setUploadingMedia(true);\n    try {\n      const uploadPromises = selectedFiles.map(async (file) => {\n        const url = await uploadService.uploadFile(file);\n        const type = file.type.startsWith('video/') ? 'video' : 'image';\n        return {\n          type,\n          url,\n          caption: '',\n        };\n      });\n\n      const mediaItems = await Promise.all(uploadPromises);\n      await workplaceMediaService.createMultipleMedia(workplace.id, mediaItems);\n      await loadWorkplaceMedia(workplace.id);\n      setSelectedFiles([]);\n      setError(null);\n    } catch (err: any) {\n      setError(err.message || 'Error al subir multimedia');\n    } finally {\n      setUploadingMedia(false);\n    }\n  };\n\n  const handleDeleteMedia = async (mediaId: string) => {\n    const workplace = mediaWorkplace || selectedWorkplace;\n    if (!workplace) return;\n    try {\n      await workplaceMediaService.deleteMedia(mediaId);\n      await loadWorkplaceMedia(workplace.id);\n    } catch (err: any) {\n      setError(err.response?.data?.message || 'Error al eliminar multimedia');\n    }\n  };\n\n  const onSubmit = async (data: WorkplaceFormData) => {\n    try {\n      setError(null);\n      if (isEditMode && selectedWorkplace) {\n        const updateData: UpdateWorkplaceData = {\n          name: data.name,\n          address: data.address || undefined,\n          city: data.city || undefined,\n          description: data.description || undefined,\n          image: data.image || undefined,\n          banner: data.banner || undefined,\n        };\n        await workplacesService.updateWorkplace(selectedWorkplace.id, updateData);\n      } else {\n        const createData: CreateWorkplaceData = {\n          name: data.name,\n          address: data.address || undefined,\n          city: data.city || undefined,\n          description: data.description || undefined,\n          image: data.image || undefined,\n          banner: data.banner || undefined,\n        };\n        await workplacesService.createWorkplace(createData);\n      }\n      \n      setIsModalOpen(false);\n      reset();\n      loadWorkplaces();\n    } catch (err: any) {\n      setError(err.response?.data?.message || 'Error al guardar barbería');\n    }\n  };\n\n  const handleDelete = async (id: string) => {\n    try {\n      setError(null);\n      await workplacesService.deleteWorkplace(id);\n      setDeleteConfirm(null);\n      loadWorkplaces();\n    } catch (err: any) {\n      setError(err.response?.data?.message || 'Error al eliminar barbería');\n    }\n  };\n\n  return (\n    <div className=\"p-8 bg-gradient-to-br from-gray-50 to-gray-100 min-h-screen\">\n      {/* Header */}\n      <div className=\"mb-8 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\n        <div>\n          <h1 className=\"text-4xl font-bold text-gray-900 flex items-center gap-3 mb-2\">\n            <div className=\"p-2 bg-indigo-100 rounded-lg\">\n              <Scissors className=\"w-8 h-8 text-indigo-600\" />\n            </div>\n            Barberías\n          </h1>\n          <p className=\"text-gray-600 text-lg\">Gestiona todas las barberías y lugares de trabajo</p>\n        </div>\n        <button\n          onClick={handleCreate}\n          className=\"flex items-center gap-2 bg-gradient-to-r from-indigo-600 to-indigo-700 text-white px-6 py-3 rounded-xl hover:from-indigo-700 hover:to-indigo-800 transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-0.5\"\n        >\n          <Plus className=\"w-5 h-5\" />\n          Nueva Barbería\n        </button>\n      </div>\n\n      {/* Error message */}\n      {error && (\n        <div className=\"mb-6 bg-red-50 border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-lg shadow-sm\">\n          <div className=\"flex items-center\">\n            <X className=\"w-5 h-5 mr-2\" />\n            {error}\n          </div>\n        </div>\n      )}\n\n      {/* Filters Section */}\n      <div className=\"mb-6 bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden\">\n        <button\n          onClick={() => setShowFilters(!showFilters)}\n          className=\"w-full px-6 py-4 flex items-center justify-between hover:bg-gray-50 transition\"\n        >\n          <div className=\"flex items-center gap-3\">\n            <Filter className=\"w-5 h-5 text-gray-600\" />\n            <span className=\"font-medium text-gray-900\">Filtros</span>\n            {hasActiveFilters && (\n              <span className=\"px-2 py-1 bg-indigo-100 text-indigo-700 text-xs font-semibold rounded-full\">\n                Activos\n              </span>\n            )}\n          </div>\n          {showFilters ? (\n            <ChevronUp className=\"w-5 h-5 text-gray-600\" />\n          ) : (\n            <ChevronDown className=\"w-5 h-5 text-gray-600\" />\n          )}\n        </button>\n\n        {showFilters && (\n          <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\n            <div className=\"grid grid-cols-1 md:grid-cols-1 gap-4\">\n              {/* Search */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Buscar</label>\n                <div className=\"relative\">\n                  <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\" />\n                  <input\n                    type=\"text\"\n                    placeholder=\"Nombre, dirección o ciudad...\"\n                    value={searchTerm}\n                    onChange={(e) => {\n                      setSearchTerm(e.target.value);\n                      setCurrentPage(1);\n                    }}\n                    className=\"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none bg-white\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            {hasActiveFilters && (\n              <div className=\"mt-4 flex justify-end\">\n                <button\n                  onClick={clearFilters}\n                  className=\"flex items-center gap-2 px-4 py-2 text-sm text-gray-700 hover:text-gray-900 hover:bg-gray-200 rounded-lg transition\"\n                >\n                  <X className=\"w-4 h-4\" />\n                  Limpiar filtros\n                </button>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* Table */}\n      <div className=\"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden\">\n        {isLoading ? (\n          <div className=\"flex items-center justify-center py-12\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600\"></div>\n          </div>\n        ) : workplaces.length === 0 ? (\n          <div className=\"text-center py-12 text-gray-500\">\n            No se encontraron barberías\n          </div>\n        ) : (\n          <>\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full\">\n                <thead className=\"bg-gradient-to-r from-gray-50 to-gray-100 border-b-2 border-gray-200\">\n                  <tr>\n                    <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider\">\n                      Barbería\n                    </th>\n                    <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider\">\n                      Ubicación\n                    </th>\n                    <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider\">\n                      Calificación\n                    </th>\n                    <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider\">\n                      Barberos\n                    </th>\n                    <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider\">\n                      Fecha de Registro\n                    </th>\n                    <th className=\"px-6 py-4 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider\">\n                      Acciones\n                    </th>\n                  </tr>\n                </thead>\n                <tbody className=\"bg-white divide-y divide-gray-200\">\n                  {workplaces.map((workplace) => (\n                    <tr key={workplace.id} className=\"hover:bg-indigo-50/50 transition-colors duration-150\">\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"flex items-center\">\n                          <div className=\"flex-shrink-0 h-12 w-12 rounded-lg overflow-hidden border-2 border-indigo-300 shadow-md\">\n                            {workplace.image ? (\n                              <img\n                                src={getImageUrl(workplace.image)}\n                                alt={workplace.name}\n                                className=\"w-full h-full object-cover\"\n                                onError={(e) => {\n                                  const target = e.target as HTMLImageElement;\n                                  target.style.display = 'none';\n                                  const parent = target.parentElement;\n                                  if (parent) {\n                                    parent.innerHTML = `<div class=\"w-full h-full bg-gradient-to-br from-indigo-400 to-indigo-600 flex items-center justify-center\"><Scissors class=\"w-6 h-6 text-white\" /></div>`;\n                                  }\n                                }}\n                              />\n                            ) : (\n                              <div className=\"w-full h-full bg-gradient-to-br from-indigo-400 to-indigo-600 flex items-center justify-center\">\n                                <Scissors className=\"w-6 h-6 text-white\" />\n                              </div>\n                            )}\n                          </div>\n                          <div className=\"ml-4\">\n                            <div className=\"text-sm font-semibold text-gray-900\">{workplace.name}</div>\n                            {workplace.description && (\n                              <div className=\"text-sm text-gray-500 line-clamp-1 max-w-xs\">\n                                {workplace.description}\n                              </div>\n                            )}\n                          </div>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"flex items-center gap-1 text-sm text-gray-900\">\n                          <MapPin className=\"w-4 h-4 text-gray-400\" />\n                          <div>\n                            {workplace.address && <div>{workplace.address}</div>}\n                            {workplace.city && <div className=\"text-gray-500\">{workplace.city}</div>}\n                            {!workplace.address && !workplace.city && <span className=\"text-gray-400\">-</span>}\n                          </div>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"flex items-center gap-1\">\n                          <Star className=\"w-4 h-4 text-yellow-400 fill-yellow-400\" />\n                          <span className=\"text-sm font-medium text-gray-900\">\n                            {workplace.rating.toFixed(1)}\n                          </span>\n                          <span className=\"text-sm text-gray-500\">\n                            ({workplace.reviews})\n                          </span>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"flex items-center gap-1 text-sm text-gray-900\">\n                          <Users className=\"w-4 h-4 text-gray-400\" />\n                          {workplace.barbersCount || 0}\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                        {new Date(workplace.createdAt).toLocaleDateString('es-VE')}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                        <div className=\"flex items-center justify-end gap-2\">\n                          <button\n                            onClick={() => handleView(workplace)}\n                            className=\"p-2 text-indigo-600 hover:text-indigo-700 hover:bg-indigo-100 rounded-lg transition\"\n                            title=\"Ver detalles\"\n                          >\n                            <Eye className=\"w-5 h-5\" />\n                          </button>\n                          <button\n                            onClick={() => handleEdit(workplace)}\n                            className=\"p-2 text-blue-600 hover:text-blue-700 hover:bg-blue-100 rounded-lg transition\"\n                            title=\"Editar\"\n                          >\n                            <Edit className=\"w-5 h-5\" />\n                          </button>\n                          <button\n                            onClick={() => handleOpenMediaModal(workplace)}\n                            className=\"p-2 text-purple-600 hover:text-purple-700 hover:bg-purple-100 rounded-lg transition\"\n                            title=\"Gestionar Multimedia\"\n                          >\n                            <ImageIcon className=\"w-5 h-5\" />\n                          </button>\n                          <button\n                            onClick={() => setDeleteConfirm(workplace.id)}\n                            className=\"p-2 text-red-600 hover:text-red-700 hover:bg-red-100 rounded-lg transition\"\n                            title=\"Eliminar\"\n                          >\n                            <Trash2 className=\"w-5 h-5\" />\n                          </button>\n                        </div>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n\n            {/* Pagination */}\n            {totalPages > 1 && (\n              <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50 flex items-center justify-between\">\n                <div className=\"text-sm font-medium text-gray-700\">\n                  Página <span className=\"font-bold text-indigo-600\">{currentPage}</span> de <span className=\"font-bold text-indigo-600\">{totalPages}</span>\n                </div>\n                <div className=\"flex gap-2\">\n                  <button\n                    onClick={() => setCurrentPage((p) => Math.max(1, p - 1))}\n                    disabled={currentPage === 1}\n                    className=\"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 font-medium transition\"\n                  >\n                    Anterior\n                  </button>\n                  <button\n                    onClick={() => setCurrentPage((p) => Math.min(totalPages, p + 1))}\n                    disabled={currentPage === totalPages}\n                    className=\"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 font-medium transition\"\n                  >\n                    Siguiente\n                  </button>\n                </div>\n              </div>\n            )}\n          </>\n        )}\n      </div>\n\n      {/* Create/Edit Modal */}\n      {isModalOpen && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto m-4\">\n            <div className=\"p-6 border-b border-gray-200\">\n              <h2 className=\"text-xl font-bold text-gray-900\">\n                {isEditMode ? 'Editar Barbería' : selectedWorkplace ? 'Detalles de la Barbería' : 'Nueva Barbería'}\n              </h2>\n            </div>\n\n            {selectedWorkplace && !isEditMode ? (\n              // View mode\n              <div className=\"p-6 space-y-4\">\n                {/* ID Section */}\n                <div className=\"bg-gray-50 rounded-lg p-4 border border-gray-200\">\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-2\">ID de Barbería</label>\n                  <div className=\"flex items-center gap-2\">\n                    <code className=\"flex-1 px-3 py-2 bg-white border border-gray-300 rounded text-sm font-mono text-gray-800\">\n                      {selectedWorkplace.id}\n                    </code>\n                    <button\n                      onClick={() => copyToClipboard(selectedWorkplace.id, selectedWorkplace.id)}\n                      className=\"p-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition flex items-center gap-2\"\n                      title=\"Copiar ID\"\n                    >\n                      {copiedId === selectedWorkplace.id ? (\n                        <Check className=\"w-5 h-5\" />\n                      ) : (\n                        <Copy className=\"w-5 h-5\" />\n                      )}\n                    </button>\n                  </div>\n                  {copiedId === selectedWorkplace.id && (\n                    <p className=\"mt-2 text-sm text-green-600 flex items-center gap-1\">\n                      <Check className=\"w-4 h-4\" />\n                      ID copiado al portapapeles\n                    </p>\n                  )}\n                </div>\n\n                {/* Banner Preview */}\n                {selectedWorkplace.banner && (\n                  <div className=\"rounded-lg overflow-hidden border border-gray-200\">\n                    <img\n                        src={getImageUrl(selectedWorkplace.banner)}\n                      alt=\"Banner\"\n                      className=\"w-full h-48 object-cover\"\n                      onError={(e) => {\n                        (e.target as HTMLImageElement).style.display = 'none';\n                      }}\n                    />\n                  </div>\n                )}\n\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-1\">Nombre</label>\n                    <p className=\"text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-lg\">{selectedWorkplace.name}</p>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-1\">Ciudad</label>\n                    <p className=\"text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-lg\">{selectedWorkplace.city || '-'}</p>\n                  </div>\n                  <div className=\"col-span-2\">\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-1\">Dirección</label>\n                    <p className=\"text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-lg\">{selectedWorkplace.address || '-'}</p>\n                  </div>\n                  <div className=\"col-span-2\">\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-1\">Descripción</label>\n                    <p className=\"text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-lg\">{selectedWorkplace.description || '-'}</p>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-1\">Calificación</label>\n                    <div className=\"flex items-center gap-1\">\n                      <Star className=\"w-4 h-4 text-yellow-400 fill-yellow-400\" />\n                      <span className=\"text-sm font-medium\">{selectedWorkplace.rating.toFixed(1)}</span>\n                      <span className=\"text-sm text-gray-500\">({selectedWorkplace.reviews} reseñas)</span>\n                    </div>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-1\">Barberos</label>\n                    <p className=\"text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-lg\">{selectedWorkplace.barbersCount || 0}</p>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-1\">Imagen</label>\n                    <p className=\"text-sm text-gray-500 break-all\">{selectedWorkplace.image || '-'}</p>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-1\">Banner</label>\n                    <p className=\"text-sm text-gray-500 break-all\">{selectedWorkplace.banner || '-'}</p>\n                  </div>\n                </div>\n\n                {/* Media Gallery Section */}\n                <div className=\"pt-4 border-t border-gray-200\">\n                  <div className=\"flex items-center justify-between mb-4\">\n                    <h3 className=\"text-lg font-semibold text-gray-900\">Galería Multimedia</h3>\n                    <div className=\"flex gap-2\">\n                      <input\n                        ref={mediaInputRef}\n                        type=\"file\"\n                        accept=\"image/*,video/*\"\n                        multiple\n                        onChange={handleMediaUpload}\n                        className=\"hidden\"\n                        id=\"media-upload\"\n                      />\n                      <label\n                        htmlFor=\"media-upload\"\n                        className={`px-4 py-2 bg-indigo-600 text-white rounded-lg cursor-pointer hover:bg-indigo-700 transition flex items-center gap-2 ${uploadingMedia ? 'opacity-50 cursor-not-allowed' : ''}`}\n                      >\n                        {uploadingMedia ? (\n                          <>\n                            <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n                            <span>Subiendo...</span>\n                          </>\n                        ) : (\n                          <>\n                            <Upload className=\"w-4 h-4\" />\n                            <span>Agregar Multimedia</span>\n                          </>\n                        )}\n                      </label>\n                    </div>\n                  </div>\n\n                  {workplaceMedia.length === 0 ? (\n                    <div className=\"text-center py-8 text-gray-500 border-2 border-dashed border-gray-300 rounded-lg\">\n                      <ImageIcon className=\"w-12 h-12 mx-auto mb-2 text-gray-400\" />\n                      <p>No hay multimedia agregada</p>\n                      <p className=\"text-sm\">Sube imágenes o videos para la galería</p>\n                    </div>\n                  ) : (\n                    <div className=\"grid grid-cols-3 gap-4\">\n                      {workplaceMedia.map((media) => (\n                        <div key={media.id} className=\"relative group\">\n                          <div className=\"aspect-square rounded-lg overflow-hidden border border-gray-200 bg-gray-100\">\n                            {media.type === 'video' ? (\n                              <video\n                                src={getImageUrl(media.url)}\n                                className=\"w-full h-full object-cover\"\n                                controls={false}\n                                crossOrigin=\"anonymous\"\n                              >\n                                Tu navegador no soporta videos.\n                              </video>\n                            ) : (\n                              <img\n                                src={getImageUrl(media.url)}\n                                alt={media.caption || 'Media'}\n                                className=\"w-full h-full object-cover\"\n                                crossOrigin=\"anonymous\"\n                                onError={(e) => {\n                                  (e.target as HTMLImageElement).style.display = 'none';\n                                }}\n                              />\n                            )}\n                          </div>\n                          <button\n                            onClick={() => handleDeleteMedia(media.id)}\n                            className=\"absolute top-2 right-2 p-1.5 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition hover:bg-red-700\"\n                            title=\"Eliminar\"\n                          >\n                            <XCircle className=\"w-4 h-4\" />\n                          </button>\n                          {media.caption && (\n                            <div className=\"absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white text-xs p-2 rounded-b-lg\">\n                              {media.caption}\n                            </div>\n                          )}\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </div>\n\n                <div className=\"flex justify-end gap-2 pt-4 border-t border-gray-200\">\n                  <button\n                    onClick={() => {\n                      setIsModalOpen(false);\n                      setSelectedWorkplace(null);\n                      setWorkplaceMedia([]);\n                    }}\n                    className=\"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50\"\n                  >\n                    Cerrar\n                  </button>\n                  <button\n                    onClick={() => {\n                      setIsEditMode(true);\n                    }}\n                    className=\"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700\"\n                  >\n                    Editar\n                  </button>\n                </div>\n              </div>\n            ) : (\n              // Create/Edit form\n              <form onSubmit={handleSubmit(onSubmit)} className=\"p-6 space-y-4\">\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div className=\"col-span-2\">\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Nombre <span className=\"text-red-500\">*</span>\n                    </label>\n                    <input\n                      {...register('name')}\n                      type=\"text\"\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none\"\n                    />\n                    {errors.name && (\n                      <p className=\"mt-1 text-sm text-red-600\">{errors.name.message}</p>\n                    )}\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Dirección</label>\n                    <input\n                      {...register('address')}\n                      type=\"text\"\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none\"\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Ciudad</label>\n                    <input\n                      {...register('city')}\n                      type=\"text\"\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none\"\n                    />\n                  </div>\n\n                  <div className=\"col-span-2\">\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Descripción</label>\n                    <textarea\n                      {...register('description')}\n                      rows={3}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none\"\n                    />\n                  </div>\n\n                  <div className=\"col-span-2\">\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Imagen de Perfil</label>\n                    <div className=\"space-y-2\">\n                      <div className=\"flex gap-2\">\n                        <input\n                          {...register('image')}\n                          type=\"text\"\n                          placeholder=\"URL de imagen o sube un archivo\"\n                          className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none\"\n                        />\n                        <input\n                          ref={imageInputRef}\n                          type=\"file\"\n                          accept=\"image/*\"\n                          onChange={handleImageUpload}\n                          className=\"hidden\"\n                          id=\"image-upload-form\"\n                        />\n                        <label\n                          htmlFor=\"image-upload-form\"\n                          className={`px-4 py-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition flex items-center gap-2 ${uploadingImage ? 'opacity-50 cursor-not-allowed' : ''}`}\n                        >\n                          {uploadingImage ? (\n                            <>\n                              <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-600\"></div>\n                              <span>Subiendo...</span>\n                            </>\n                          ) : (\n                            <>\n                              <Upload className=\"w-4 h-4\" />\n                              <span>Subir</span>\n                            </>\n                          )}\n                        </label>\n                      </div>\n                      {watchedImage && (\n                        <div className=\"rounded-lg overflow-hidden border border-gray-200 max-w-xs\">\n                          <img\n                                src={getImageUrl(watchedImage)}\n                            alt=\"Preview\"\n                            className=\"w-full h-32 object-cover\"\n                            onError={(e) => {\n                              (e.target as HTMLImageElement).style.display = 'none';\n                            }}\n                          />\n                        </div>\n                      )}\n                    </div>\n                  </div>\n\n                  <div className=\"col-span-2\">\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Banner</label>\n                    <div className=\"space-y-2\">\n                      <div className=\"flex gap-2\">\n                        <input\n                          {...register('banner')}\n                          type=\"text\"\n                          placeholder=\"URL de banner o sube un archivo\"\n                          className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none\"\n                        />\n                        <input\n                          ref={bannerInputRef}\n                          type=\"file\"\n                          accept=\"image/*\"\n                          onChange={handleBannerUpload}\n                          className=\"hidden\"\n                          id=\"banner-upload-form\"\n                        />\n                        <label\n                          htmlFor=\"banner-upload-form\"\n                          className={`px-4 py-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition flex items-center gap-2 ${uploadingBanner ? 'opacity-50 cursor-not-allowed' : ''}`}\n                        >\n                          {uploadingBanner ? (\n                            <>\n                              <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-600\"></div>\n                              <span>Subiendo...</span>\n                            </>\n                          ) : (\n                            <>\n                              <Upload className=\"w-4 h-4\" />\n                              <span>Subir</span>\n                            </>\n                          )}\n                        </label>\n                      </div>\n                      {watchedBanner && (\n                        <div className=\"rounded-lg overflow-hidden border border-gray-200\">\n                          <img\n                                src={getImageUrl(watchedBanner)}\n                            alt=\"Banner Preview\"\n                            className=\"w-full h-48 object-cover\"\n                            onError={(e) => {\n                              (e.target as HTMLImageElement).style.display = 'none';\n                            }}\n                          />\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"flex justify-end gap-2 pt-4 border-t border-gray-200\">\n                  <button\n                    type=\"button\"\n                    onClick={() => {\n                      setIsModalOpen(false);\n                      setSelectedWorkplace(null);\n                      reset();\n                    }}\n                    className=\"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50\"\n                  >\n                    Cancelar\n                  </button>\n                  <button\n                    type=\"submit\"\n                    className=\"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700\"\n                  >\n                    {isEditMode ? 'Actualizar' : 'Crear'}\n                  </button>\n                </div>\n              </form>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Media Management Modal */}\n      {isMediaModalOpen && mediaWorkplace && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto m-4\">\n            <div className=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between z-10\">\n              <div>\n                <h2 className=\"text-2xl font-bold text-gray-900\">Galería Multimedia</h2>\n                <p className=\"text-sm text-gray-600 mt-1\">{mediaWorkplace.name}</p>\n              </div>\n              <button\n                onClick={handleCloseMediaModal}\n                className=\"p-2 text-gray-400 hover:text-gray-600 rounded-lg transition\"\n              >\n                <X className=\"w-6 h-6\" />\n              </button>\n            </div>\n\n            <div className=\"p-6\">\n              {/* Upload Section */}\n              <div className=\"mb-6\">\n                <div className=\"flex items-center justify-between mb-4\">\n                  <h3 className=\"text-lg font-semibold text-gray-900\">Agregar Multimedia</h3>\n                </div>\n                <div className=\"space-y-4\">\n                  <div className=\"flex gap-2\">\n                    <input\n                      ref={mediaInputRef}\n                      type=\"file\"\n                      accept=\"image/*,video/*\"\n                      multiple\n                      onChange={handleFileSelect}\n                      className=\"hidden\"\n                      id=\"media-upload-modal\"\n                    />\n                    <label\n                      htmlFor=\"media-upload-modal\"\n                      className=\"px-4 py-2 bg-gray-600 text-white rounded-lg cursor-pointer hover:bg-gray-700 transition flex items-center gap-2\"\n                    >\n                      <Upload className=\"w-4 h-4\" />\n                      <span>Seleccionar Archivos</span>\n                    </label>\n                    {selectedFiles.length > 0 && (\n                      <button\n                        onClick={handleMediaUpload}\n                        disabled={uploadingMedia}\n                        className={`px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition flex items-center gap-2 ${uploadingMedia ? 'opacity-50 cursor-not-allowed' : ''}`}\n                      >\n                        {uploadingMedia ? (\n                          <>\n                            <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n                            <span>Subiendo...</span>\n                          </>\n                        ) : (\n                          <>\n                            <Upload className=\"w-4 h-4\" />\n                            <span>Subir {selectedFiles.length} archivo{selectedFiles.length > 1 ? 's' : ''}</span>\n                          </>\n                        )}\n                      </button>\n                    )}\n                    {selectedFiles.length > 0 && (\n                      <button\n                        onClick={() => setSelectedFiles([])}\n                        className=\"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition\"\n                      >\n                        Limpiar\n                      </button>\n                    )}\n                  </div>\n                  {selectedFiles.length > 0 && (\n                    <div className=\"bg-gray-50 rounded-lg p-4 border border-gray-200\">\n                      <p className=\"text-sm font-medium text-gray-700 mb-2\">\n                        Archivos seleccionados ({selectedFiles.length}):\n                      </p>\n                      <ul className=\"text-sm text-gray-600 space-y-1\">\n                        {selectedFiles.map((file, index) => (\n                          <li key={index} className=\"flex items-center gap-2\">\n                            <span className=\"w-2 h-2 bg-indigo-600 rounded-full\"></span>\n                            {file.name} ({(file.size / 1024 / 1024).toFixed(2)} MB)\n                          </li>\n                        ))}\n                      </ul>\n                    </div>\n                  )}\n                </div>\n                <p className=\"text-sm text-gray-500 mt-4\">Puedes seleccionar múltiples imágenes o videos a la vez</p>\n              </div>\n\n              {/* Media Gallery */}\n              {workplaceMedia.length === 0 ? (\n                <div className=\"text-center py-12 text-gray-500 border-2 border-dashed border-gray-300 rounded-lg\">\n                  <ImageIcon className=\"w-16 h-16 mx-auto mb-4 text-gray-400\" />\n                  <p className=\"text-lg font-medium\">No hay multimedia agregada</p>\n                  <p className=\"text-sm mt-2\">Sube imágenes o videos para la galería</p>\n                </div>\n              ) : (\n                <div className=\"grid grid-cols-3 gap-4\">\n                  {workplaceMedia.map((media) => (\n                    <div key={media.id} className=\"relative group\">\n                      <div className=\"aspect-square rounded-lg overflow-hidden border border-gray-200 bg-gray-100\">\n                        {media.type === 'video' ? (\n                          <video\n                            src={getImageUrl(media.url)}\n                            className=\"w-full h-full object-cover\"\n                            controls={false}\n                            crossOrigin=\"anonymous\"\n                          >\n                            Tu navegador no soporta videos.\n                          </video>\n                        ) : (\n                          <img\n                            src={getImageUrl(media.url)}\n                            alt={media.caption || 'Media'}\n                            className=\"w-full h-full object-cover\"\n                            crossOrigin=\"anonymous\"\n                            onError={(e) => {\n                              (e.target as HTMLImageElement).style.display = 'none';\n                            }}\n                          />\n                        )}\n                      </div>\n                      <button\n                        onClick={() => handleDeleteMedia(media.id)}\n                        className=\"absolute top-2 right-2 p-1.5 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition hover:bg-red-700 shadow-lg\"\n                        title=\"Eliminar\"\n                      >\n                        <XCircle className=\"w-4 h-4\" />\n                      </button>\n                      {media.caption && (\n                        <div className=\"absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white text-xs p-2 rounded-b-lg\">\n                          {media.caption}\n                        </div>\n                      )}\n                      {media.type === 'video' && (\n                        <div className=\"absolute top-2 left-2 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded\">\n                          <Video className=\"w-3 h-3 inline mr-1\" />\n                          Video\n                        </div>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            <div className=\"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4 flex justify-end\">\n              <button\n                onClick={handleCloseMediaModal}\n                className=\"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition\"\n              >\n                Cerrar\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Delete Confirmation Modal */}\n      {deleteConfirm && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg shadow-xl p-6 max-w-md w-full m-4\">\n            <h3 className=\"text-lg font-bold text-gray-900 mb-4\">Confirmar Eliminación</h3>\n            <p className=\"text-gray-600 mb-6\">\n              ¿Estás seguro de que deseas eliminar esta barbería? Esta acción no se puede deshacer.\n            </p>\n            <div className=\"flex justify-end gap-2\">\n              <button\n                onClick={() => setDeleteConfirm(null)}\n                className=\"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50\"\n              >\n                Cancelar\n              </button>\n              <button\n                onClick={() => handleDelete(deleteConfirm)}\n                className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700\"\n              >\n                Eliminar\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}