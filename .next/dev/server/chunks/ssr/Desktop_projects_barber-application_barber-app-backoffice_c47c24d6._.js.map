{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/macbook/Desktop/projects/barber-application/barber-app-backoffice/lib/appointments.ts"],"sourcesContent":["import api from './api';\n\nexport type AppointmentStatus = 'PENDING' | 'CONFIRMED' | 'COMPLETED' | 'CANCELLED';\n\nexport interface Client {\n  id: string;\n  name: string;\n  email: string;\n  phone?: string | null;\n  avatar?: string | null;\n  avatarSeed?: string | null;\n}\n\nexport interface Barber {\n  id: string;\n  name: string;\n  email: string;\n  specialty?: string | null;\n  rating?: number | null;\n  image?: string | null;\n  avatarSeed?: string | null;\n  location?: string | null;\n}\n\nexport interface Service {\n  id: string;\n  name: string;\n  price: number;\n  description?: string | null;\n}\n\nexport interface Appointment {\n  id: string;\n  userId: string;\n  barberId: string;\n  serviceId?: string | null;\n  client: Client;\n  barber: Barber;\n  service?: Service | null;\n  date: string;\n  time: string;\n  status: AppointmentStatus;\n  paymentMethod?: string | null;\n  paymentMethodName?: string | null;\n  paymentStatus?: string | null;\n  paymentProof?: string | null;\n  notes?: string | null;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport interface CreateAppointmentData {\n  userId: string;\n  barberId: string;\n  serviceId?: string;\n  date: string;\n  time: string;\n  paymentMethod: string;\n  paymentProof?: string;\n  notes?: string;\n}\n\nexport interface UpdateAppointmentData {\n  status?: AppointmentStatus;\n  date?: string;\n  time?: string;\n  paymentMethod?: string;\n  notes?: string;\n}\n\nexport interface AppointmentsResponse {\n  success: boolean;\n  data: Appointment[];\n  pagination: {\n    page: number;\n    limit: number;\n    total: number;\n    totalPages: number;\n  };\n}\n\nexport const appointmentsService = {\n  async getAppointments(page: number = 1, limit: number = 10, search?: string, status?: string, dateFrom?: string, dateTo?: string): Promise<AppointmentsResponse> {\n    const params = new URLSearchParams({\n      page: page.toString(),\n      limit: limit.toString(),\n    });\n    \n    if (search) params.append('search', search);\n    if (status) params.append('status', status);\n    if (dateFrom) params.append('dateFrom', dateFrom);\n    if (dateTo) params.append('dateTo', dateTo);\n\n    const response = await api.get<AppointmentsResponse>(`/appointments/admin?${params.toString()}`);\n    return response.data;\n  },\n\n  async getAppointmentById(id: string): Promise<Appointment> {\n    const response = await api.get<{ success: boolean; data: Appointment }>(`/appointments/admin/${id}`);\n    return response.data.data;\n  },\n\n  async createAppointment(data: CreateAppointmentData): Promise<Appointment> {\n    const response = await api.post<{ success: boolean; data: Appointment }>('/appointments', data);\n    return response.data.data;\n  },\n\n  async updateAppointment(id: string, data: UpdateAppointmentData): Promise<Appointment> {\n    const response = await api.put<{ success: boolean; data: Appointment }>(`/appointments/admin/${id}`, data);\n    return response.data.data;\n  },\n\n  async deleteAppointment(id: string): Promise<void> {\n    await api.delete(`/appointments/admin/${id}`);\n  },\n\n  async getPendingPaymentAppointments(page: number = 1, limit: number = 10, paymentStatus?: string | null): Promise<AppointmentsResponse> {\n    const params = new URLSearchParams({\n      page: page.toString(),\n      limit: limit.toString(),\n    });\n\n    if (paymentStatus !== undefined && paymentStatus !== null && paymentStatus !== '') {\n      params.append('paymentStatus', paymentStatus);\n    }\n\n    const response = await api.get<AppointmentsResponse>(`/appointments/admin/pending-payments?${params.toString()}`);\n    return response.data;\n  },\n\n  async verifyPayment(id: string, verified: boolean): Promise<Appointment> {\n    const response = await api.put<{ success: boolean; data: Appointment }>(`/appointments/admin/${id}/verify-payment`, { verified });\n    return response.data.data;\n  },\n};\n\n"],"names":[],"mappings":";;;;AAAA;;AAiFO,MAAM,sBAAsB;IACjC,MAAM,iBAAgB,OAAe,CAAC,EAAE,QAAgB,EAAE,EAAE,MAAe,EAAE,MAAe,EAAE,QAAiB,EAAE,MAAe;QAC9H,MAAM,SAAS,IAAI,gBAAgB;YACjC,MAAM,KAAK,QAAQ;YACnB,OAAO,MAAM,QAAQ;QACvB;QAEA,IAAI,QAAQ,OAAO,MAAM,CAAC,UAAU;QACpC,IAAI,QAAQ,OAAO,MAAM,CAAC,UAAU;QACpC,IAAI,UAAU,OAAO,MAAM,CAAC,YAAY;QACxC,IAAI,QAAQ,OAAO,MAAM,CAAC,UAAU;QAEpC,MAAM,WAAW,MAAM,oMAAG,CAAC,GAAG,CAAuB,CAAC,oBAAoB,EAAE,OAAO,QAAQ,IAAI;QAC/F,OAAO,SAAS,IAAI;IACtB;IAEA,MAAM,oBAAmB,EAAU;QACjC,MAAM,WAAW,MAAM,oMAAG,CAAC,GAAG,CAA0C,CAAC,oBAAoB,EAAE,IAAI;QACnG,OAAO,SAAS,IAAI,CAAC,IAAI;IAC3B;IAEA,MAAM,mBAAkB,IAA2B;QACjD,MAAM,WAAW,MAAM,oMAAG,CAAC,IAAI,CAA0C,iBAAiB;QAC1F,OAAO,SAAS,IAAI,CAAC,IAAI;IAC3B;IAEA,MAAM,mBAAkB,EAAU,EAAE,IAA2B;QAC7D,MAAM,WAAW,MAAM,oMAAG,CAAC,GAAG,CAA0C,CAAC,oBAAoB,EAAE,IAAI,EAAE;QACrG,OAAO,SAAS,IAAI,CAAC,IAAI;IAC3B;IAEA,MAAM,mBAAkB,EAAU;QAChC,MAAM,oMAAG,CAAC,MAAM,CAAC,CAAC,oBAAoB,EAAE,IAAI;IAC9C;IAEA,MAAM,+BAA8B,OAAe,CAAC,EAAE,QAAgB,EAAE,EAAE,aAA6B;QACrG,MAAM,SAAS,IAAI,gBAAgB;YACjC,MAAM,KAAK,QAAQ;YACnB,OAAO,MAAM,QAAQ;QACvB;QAEA,IAAI,kBAAkB,aAAa,kBAAkB,QAAQ,kBAAkB,IAAI;YACjF,OAAO,MAAM,CAAC,iBAAiB;QACjC;QAEA,MAAM,WAAW,MAAM,oMAAG,CAAC,GAAG,CAAuB,CAAC,qCAAqC,EAAE,OAAO,QAAQ,IAAI;QAChH,OAAO,SAAS,IAAI;IACtB;IAEA,MAAM,eAAc,EAAU,EAAE,QAAiB;QAC/C,MAAM,WAAW,MAAM,oMAAG,CAAC,GAAG,CAA0C,CAAC,oBAAoB,EAAE,GAAG,eAAe,CAAC,EAAE;YAAE;QAAS;QAC/H,OAAO,SAAS,IAAI,CAAC,IAAI;IAC3B;AACF","debugId":null}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///Users/macbook/Desktop/projects/barber-application/barber-app-backoffice/app/dashboard/payment/verification/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { CreditCard, Search, CheckCircle, XCircle, Eye, Filter, X, ChevronDown, ChevronUp, Image as ImageIcon, User, Calendar, Clock } from 'lucide-react';\nimport { appointmentsService, Appointment } from '@/lib/appointments';\nimport { format } from 'date-fns';\n\n// Helper para construir URLs de imágenes (sin /api)\nconst getImageUrl = (url: string): string => {\n  if (url.startsWith('http')) {\n    return url;\n  }\n  const baseUrl = (process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3000/api').replace('/api', '');\n  return `${baseUrl}${url}`;\n};\n\ntype PaymentStatusFilter = 'ALL' | 'PENDING' | 'VERIFIED' | 'REJECTED';\n\nexport default function PaymentVerificationPage() {\n  const [appointments, setAppointments] = useState<Appointment[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [error, setError] = useState<string | null>(null);\n  const [showFilters, setShowFilters] = useState(false);\n  const [selectedAppointment, setSelectedAppointment] = useState<Appointment | null>(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [verifying, setVerifying] = useState<string | null>(null);\n  const [paymentStatusFilter, setPaymentStatusFilter] = useState<PaymentStatusFilter>('ALL');\n\n  const loadAppointments = useCallback(async () => {\n    setIsLoading(true);\n    try {\n      const statusParam = paymentStatusFilter === 'ALL' ? null : paymentStatusFilter;\n      const response = await appointmentsService.getPendingPaymentAppointments(currentPage, 10, statusParam);\n      setAppointments(response.data);\n      setTotalPages(response.pagination.totalPages);\n    } catch (err: any) {\n      setError(err.response?.data?.message || 'Error al cargar citas de verificación de pago');\n    } finally {\n      setIsLoading(false);\n    }\n  }, [currentPage, paymentStatusFilter]);\n\n  useEffect(() => {\n    loadAppointments();\n  }, [loadAppointments]);\n\n  const handleView = (appointment: Appointment) => {\n    setSelectedAppointment(appointment);\n    setIsModalOpen(true);\n  };\n\n  const handleVerify = async (id: string, verified: boolean) => {\n    try {\n      setVerifying(id);\n      setError(null);\n      await appointmentsService.verifyPayment(id, verified);\n      setIsModalOpen(false);\n      setSelectedAppointment(null);\n      loadAppointments();\n    } catch (err: any) {\n      setError(err.response?.data?.message || 'Error al verificar pago');\n    } finally {\n      setVerifying(null);\n    }\n  };\n\n  const getStatusBadge = (status: string) => {\n    switch (status) {\n      case 'PENDING':\n        return <span className=\"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800\">Pendiente</span>;\n      case 'VERIFIED':\n        return <span className=\"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800\">Verificado</span>;\n      case 'REJECTED':\n        return <span className=\"px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800\">Rechazado</span>;\n      default:\n        return <span className=\"px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-800\">{status}</span>;\n    }\n  };\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900 flex items-center gap-3\">\n            <CreditCard className=\"w-8 h-8 text-blue-600\" />\n            Verificación de Pagos\n          </h1>\n          <p className=\"text-gray-600 mt-2\">Revisa y verifica los comprobantes de pago de las citas</p>\n        </div>\n        <button\n          onClick={() => setShowFilters(!showFilters)}\n          className=\"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\"\n        >\n          <Filter className=\"w-5 h-5\" />\n          <span>Filtros</span>\n          {showFilters ? <ChevronUp className=\"w-4 h-4\" /> : <ChevronDown className=\"w-4 h-4\" />}\n        </button>\n      </div>\n\n      {/* Filters */}\n      {showFilters && (\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4\">\n          <div className=\"flex items-center gap-4\">\n            <label className=\"text-sm font-medium text-gray-700\">Estado de Pago:</label>\n            <div className=\"flex gap-2\">\n              <button\n                onClick={() => {\n                  setPaymentStatusFilter('ALL');\n                  setCurrentPage(1);\n                }}\n                className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${\n                  paymentStatusFilter === 'ALL'\n                    ? 'bg-blue-600 text-white'\n                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                }`}\n              >\n                Todos\n              </button>\n              <button\n                onClick={() => {\n                  setPaymentStatusFilter('PENDING');\n                  setCurrentPage(1);\n                }}\n                className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${\n                  paymentStatusFilter === 'PENDING'\n                    ? 'bg-yellow-600 text-white'\n                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                }`}\n              >\n                Pendientes\n              </button>\n              <button\n                onClick={() => {\n                  setPaymentStatusFilter('VERIFIED');\n                  setCurrentPage(1);\n                }}\n                className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${\n                  paymentStatusFilter === 'VERIFIED'\n                    ? 'bg-green-600 text-white'\n                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                }`}\n              >\n                Verificados\n              </button>\n              <button\n                onClick={() => {\n                  setPaymentStatusFilter('REJECTED');\n                  setCurrentPage(1);\n                }}\n                className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${\n                  paymentStatusFilter === 'REJECTED'\n                    ? 'bg-red-600 text-white'\n                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                }`}\n              >\n                Rechazados\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Error Message */}\n      {error && (\n        <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg\">\n          {error}\n        </div>\n      )}\n\n      {/* Table */}\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden\">\n        {isLoading ? (\n          <div className=\"p-12 text-center\">\n            <div className=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n            <p className=\"mt-4 text-gray-500\">Cargando citas...</p>\n          </div>\n        ) : appointments.length === 0 ? (\n          <div className=\"p-12 text-center\">\n            <CheckCircle className=\"w-12 h-12 text-green-400 mx-auto mb-4\" />\n            <p className=\"text-gray-500\">\n              {paymentStatusFilter === 'ALL'\n                ? 'No hay citas con comprobante de pago'\n                : `No hay citas ${paymentStatusFilter === 'PENDING' ? 'pendientes' : paymentStatusFilter === 'VERIFIED' ? 'verificadas' : 'rechazadas'} de verificación de pago`}\n            </p>\n          </div>\n        ) : (\n          <>\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full\">\n                <thead className=\"bg-gray-50 border-b border-gray-200\">\n                  <tr>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Cliente</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Barbero</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Fecha</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Hora</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Método de Pago</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Estado</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Comprobante</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Acciones</th>\n                  </tr>\n                </thead>\n                <tbody className=\"bg-white divide-y divide-gray-200\">\n                  {appointments.map((appointment) => (\n                    <tr key={appointment.id} className=\"hover:bg-gray-50 transition-colors\">\n                      <td className=\"px-6 py-4\">\n                        <div className=\"flex items-center gap-3\">\n                          {appointment.client.avatar ? (\n                            <img\n                              src={appointment.client.avatar}\n                              alt={appointment.client.name}\n                              className=\"w-10 h-10 rounded-full\"\n                            />\n                          ) : appointment.client.avatarSeed ? (\n                            <img\n                              src={`https://api.dicebear.com/7.x/avataaars/png?seed=${appointment.client.avatarSeed}&size=512`}\n                              alt={appointment.client.name}\n                              className=\"w-10 h-10 rounded-full\"\n                            />\n                          ) : (\n                            <div className=\"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center\">\n                              <User className=\"w-5 h-5 text-gray-400\" />\n                            </div>\n                          )}\n                          <div>\n                            <div className=\"text-sm font-medium text-gray-900\">{appointment.client.name}</div>\n                            <div className=\"text-sm text-gray-500\">{appointment.client.email}</div>\n                          </div>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4\">\n                        <div className=\"text-sm text-gray-900\">{appointment.barber?.name || 'N/A'}</div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                        {format(new Date(appointment.date), 'dd/MM/yyyy')}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                        {appointment.time}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <span className=\"text-sm text-gray-900\">{appointment.paymentMethodName || appointment.paymentMethod || 'N/A'}</span>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        {getStatusBadge(appointment.paymentStatus || 'PENDING')}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        {appointment.paymentProof ? (\n                          <button\n                            onClick={() => handleView(appointment)}\n                            className=\"flex items-center gap-2 text-blue-600 hover:text-blue-900\"\n                          >\n                            <ImageIcon className=\"w-5 h-5\" />\n                            <span className=\"text-sm\">Ver</span>\n                          </button>\n                        ) : (\n                          <span className=\"text-sm text-gray-400\">Sin comprobante</span>\n                        )}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                        <div className=\"flex items-center gap-2\">\n                          <button\n                            onClick={() => handleView(appointment)}\n                            className=\"text-blue-600 hover:text-blue-900\"\n                            title=\"Ver detalles\"\n                          >\n                            <Eye className=\"w-5 h-5\" />\n                          </button>\n                        </div>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n\n            {/* Pagination */}\n            {totalPages > 1 && (\n              <div className=\"px-6 py-4 border-t border-gray-200 flex items-center justify-between\">\n                <div className=\"text-sm text-gray-700\">\n                  Página {currentPage} de {totalPages}\n                </div>\n                <div className=\"flex gap-2\">\n                  <button\n                    onClick={() => setCurrentPage((prev) => Math.max(1, prev - 1))}\n                    disabled={currentPage === 1}\n                    className=\"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50\"\n                  >\n                    Anterior\n                  </button>\n                  <button\n                    onClick={() => setCurrentPage((prev) => Math.min(totalPages, prev + 1))}\n                    disabled={currentPage === totalPages}\n                    className=\"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50\"\n                  >\n                    Siguiente\n                  </button>\n                </div>\n              </div>\n            )}\n          </>\n        )}\n      </div>\n\n      {/* View/Verify Modal */}\n      {isModalOpen && selectedAppointment && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto\">\n            <div className=\"p-6 border-b border-gray-200\">\n              <div className=\"flex items-center justify-between\">\n                <h2 className=\"text-2xl font-bold text-gray-900\">Verificar Pago</h2>\n                <button\n                  onClick={() => {\n                    setIsModalOpen(false);\n                    setSelectedAppointment(null);\n                  }}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                >\n                  <X className=\"w-6 h-6\" />\n                </button>\n              </div>\n            </div>\n\n            <div className=\"p-6 space-y-6\">\n              {/* Información de la Cita */}\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Cliente</label>\n                  <p className=\"text-gray-900\">{selectedAppointment.client.name}</p>\n                  <p className=\"text-sm text-gray-500\">{selectedAppointment.client.email}</p>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Barbero</label>\n                  <p className=\"text-gray-900\">{selectedAppointment.barber?.name || 'N/A'}</p>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Fecha</label>\n                  <p className=\"text-gray-900\">{format(new Date(selectedAppointment.date), 'dd/MM/yyyy')}</p>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Hora</label>\n                  <p className=\"text-gray-900\">{selectedAppointment.time}</p>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Método de Pago</label>\n                  <p className=\"text-gray-900\">{selectedAppointment.paymentMethodName || selectedAppointment.paymentMethod || 'N/A'}</p>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Estado de Pago</label>\n                  {getStatusBadge(selectedAppointment.paymentStatus || 'PENDING')}\n                </div>\n              </div>\n\n              {/* Comprobante de Pago */}\n              {selectedAppointment.paymentProof && (\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Comprobante de Pago</label>\n                  <div className=\"border border-gray-200 rounded-lg p-4 bg-gray-50\">\n                    <img\n                      src={getImageUrl(selectedAppointment.paymentProof)}\n                      alt=\"Comprobante de pago\"\n                      className=\"w-full h-auto rounded-lg max-h-96 object-contain\"\n                      crossOrigin=\"anonymous\"\n                    />\n                  </div>\n                </div>\n              )}\n\n              {/* Botones de Acción */}\n              <div className=\"flex justify-end gap-3 pt-4 border-t border-gray-200\">\n                <button\n                  onClick={() => {\n                    setIsModalOpen(false);\n                    setSelectedAppointment(null);\n                  }}\n                  className=\"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors\"\n                >\n                  Cerrar\n                </button>\n                {selectedAppointment.paymentStatus === 'PENDING' && (\n                  <>\n                    <button\n                      onClick={() => handleVerify(selectedAppointment.id, false)}\n                      disabled={verifying === selectedAppointment.id}\n                      className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\"\n                    >\n                      {verifying === selectedAppointment.id ? (\n                        <>\n                          <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n                          <span>Rechazando...</span>\n                        </>\n                      ) : (\n                        <>\n                          <XCircle className=\"w-5 h-5\" />\n                          <span>Rechazar Pago</span>\n                        </>\n                      )}\n                    </button>\n                    <button\n                      onClick={() => handleVerify(selectedAppointment.id, true)}\n                      disabled={verifying === selectedAppointment.id}\n                      className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\"\n                    >\n                      {verifying === selectedAppointment.id ? (\n                        <>\n                          <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n                          <span>Verificando...</span>\n                        </>\n                      ) : (\n                        <>\n                          <CheckCircle className=\"w-5 h-5\" />\n                          <span>Verificar Pago</span>\n                        </>\n                      )}\n                    </button>\n                  </>\n                )}\n                {selectedAppointment.paymentStatus !== 'PENDING' && (\n                  <div className=\"text-sm text-gray-500 italic\">\n                    Este pago ya ha sido {selectedAppointment.paymentStatus === 'VERIFIED' ? 'verificado' : 'rechazado'}\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"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","debugId":null}}]
}